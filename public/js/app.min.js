"use strict";

function animate(node, prop, end, duration, fn, arg, context) {
    var stepTime = 20;
    var startTime = new Date().getTime();
    var start = parseInt(getComputedStyle(node).getPropertyValue(prop), 10);
    if (typeof end === "string") {
        end = parseInt(end, 10);
    }

    function step() {
        // calc how much time has elapsed
        var nextValue, done, portionComplete;
        var timeRunning = new Date().getTime() - startTime;
        if (timeRunning >= duration) {
            nextValue = end;
            done = true;
        } else {
            portionComplete = timeRunning / duration;
            nextValue = (end - start) * portionComplete + start;
            done = false;
        }
        // set the next value
        node.style[prop] = nextValue + "px";
        if (!done) {
            setTimeout(step, stepTime);
        } else {
            context = context || window;
            fn.call(context, node, arg);
        }
    }
    // start the animation
    step();
}
"use strict";

/**
 * Gets the attribute of the alement that matches the selector
 * 
 * @param {*} attr 
 * @param {*} el 
 */
var getAttr = function getAttr(attr, el) {
  return el.getAttrribute(attr);
};

/**
 * Set the attribute of the element
 * 
 * @param {*} attr 
 * @param {*} el 
 * @param {*} value 
 */
var setAttr = function setAttr(attr, el, value) {
  el.setAttribute(attr, value);
};

/**
 * Removes attribute of the element
 * 
 * @param {*} attr 
 * @param {*} el 
 */
var removeAttr = function removeAttr(attr, el) {
  el.removeAttribute(attr);
};
"use strict";

/*
 * Classie
 * --------------------------------------------------------------
 * Class helper functions. Why use? For pretty and readable code.
 * 
 * Usage:
 * ------
 * 
 * addClass(elem, 'my-new-class')
 * removeClass(elem, 'my-unwanted-class')
 * hasClass(elem, 'my-class') -> true/false
 * toggleClass(elem, 'my-class')
 */

var addClass = function addClass(elem, c) {
    elem.classList.add(c);
};

var removeClass = function removeClass(elem, c) {
    elem.classList.remove(c);
};

var hasClass = function hasClass(elem, c) {
    return elem.classList.contains(c);
};

var toggleClass = function toggleClass(elem, c) {
    var fn = hasClass(elem, c) ? removeClass : addClass;
    fn(elem, c);
};
"use strict";

/**
 * Returning i alone means that it is available outside of the function if needed
 *  
 * @param {*} array 
 * @param {*} func 
 */
var each = function each(array, func) {
    for (var i = 0; i < array.length; i++) {
        func(array[i], i);
    }
};
"use strict";

/**
 * Checking if the useragent matches anything
 */
var detectMobile = function detectMobile() {
    if (navigator.userAgent.match(/Android/i) || navigator.userAgent.match(/webOS/i) || navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPad/i) || navigator.userAgent.match(/iPod/i) || navigator.userAgent.match(/BlackBerry/i) || navigator.userAgent.match(/Windows Phone/i)) {
        return true;
    } else {
        return false;
    }
};
"use strict";

/**
 * Finds all elements on page that match the selector
 * Returns a nodelist array
 * 
 * @param {*} selector 
 * @param {*} context 
 */
var findAll = function findAll(selector) {
  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;

  return context.querySelectorAll(selector);
};
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Slider = function () {
    function Slider(el) {
        _classCallCheck(this, Slider);

        this.bodySelector = 'js-slider';

        if (hasClass(document.getElementsByTagName('body')[0], this.bodySelector)) {
            this.el = document.querySelector(el);

            if (this.el !== null && typeof this.el !== 'undefined') {
                this.init();
            }
        }
    }

    _createClass(Slider, [{
        key: 'init',
        value: function init() {
            this.wrapper = this.el.querySelector('.slider__wrapper');
            this.slides = this.el.querySelectorAll('.slider__slide');
            this.previous = this.el.querySelector('.slider__previous');
            this.next = this.el.querySelector('.slider__next');
            this.index = 0;
            this.total = this.slides.length;
            this.self = this;
            this.animateLeft = null;
            this.slideLeft = null;

            this.handlePreviousSlide();
            this.handleNextSlide();
        }
    }, {
        key: 'slideTo',
        value: function slideTo(slide, direction) {
            var currentSlide = this.slides[slide];
            var currentIndex = slide;
            var newIndex = 0;

            currentSlide.style.display = 'block';

            if (direction === 'prev') {
                slide == slide++;

                if (slide > this.total - 1) {
                    slide = 0;
                }
            } else {
                slide == slide--;

                if (slide < 0) {
                    slide = this.total - 1;
                }
            }

            newIndex = slide;

            if (newIndex > currentIndex) {
                this.slideLeft = '100%';
                this.animateLeft = '-100%';
            } else {
                this.slideLeft = '-100%';
                this.animateLeft = '100%';
            }

            document.querySelectorAll(this.slides)[newIndex];

            this.slides[slide].style.display = 'none';
        }
    }, {
        key: 'handlePreviousSlide',
        value: function handlePreviousSlide() {
            var _this = this;

            var $this = this;

            this.previous.addEventListener('click', function () {
                $this.index--;

                if ($this.index < 0) {
                    $this.index = $this.total - 1;
                }

                $this.slideTo(_this.index, 'prev');
            }, false);
        }
    }, {
        key: 'handleNextSlide',
        value: function handleNextSlide() {
            var $this = this;

            this.next.addEventListener('click', function () {
                $this.index++;

                if ($this.index == $this.total) {
                    $this.index = 0;
                }

                $this.slideTo($this.index, 'next');
            }, false);
        }
    }]);

    return Slider;
}();
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Tabs = function () {
    function Tabs(options) {
        _classCallCheck(this, Tabs);

        this.bodySelector = 'js-tabs';

        this.navLinks = null;
        this.contentContainer = null;
        this.activeIndex = 0;
        this.initCalled = false;
        this.options = options;

        if (!this.initCalled && hasClass(document.getElementsByTagName('body')[0], this.bodySelector)) {
            this.init();
        }
    }

    _createClass(Tabs, [{
        key: 'init',
        value: function init() {
            this.el = document.querySelector(this.options.el);

            if (this.el !== null && typeof this.el !== 'undefined') {
                this.navLinks = this.el.querySelectorAll(this.options.navLinks);
                this.contentContainer = this.el.querySelectorAll(this.options.contentContainer);

                this.initCalled = true;

                for (var i = 0; i < this.navLinks.length; i++) {
                    var link = this.navLinks[i];

                    this.handleClick(link, i);
                }

                if (window.location.hash && this.options.hash) {
                    var hash = window.location.hash.substring(1);

                    for (var _i = 0; _i < this.navLinks.length; _i++) {
                        if (this.navLinks[_i].dataset.hash === hash) {
                            this.goToTab(_i);
                        }
                    }
                }
            }
        }
    }, {
        key: 'handleClick',
        value: function handleClick(link, index) {
            var $this = this;

            link.addEventListener('click', function (e) {
                e.preventDefault();

                $this.goToTab(index);
            });
        }
    }, {
        key: 'goToTab',
        value: function goToTab(index) {
            if (index !== this.activeIndex && index >= 0 && index <= this.navLinks.length) {
                removeClass(this.navLinks[this.activeIndex], 'is-active');
                addClass(this.navLinks[index], 'is-active');
                removeClass(this.contentContainer[this.activeIndex], 'is-active');
                addClass(this.contentContainer[index], 'is-active');

                if (this.options.hash) {
                    window.location.hash = this.navLinks[index].dataset.hash;
                }

                this.activeIndex = index;
            }
        }
    }]);

    return Tabs;
}();
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Modal = function () {
    function Modal() {
        _classCallCheck(this, Modal);

        this.selectors = {
            body: 'js-modal',
            open: 'modal__open',
            close: 'modal__close',
            overlay: 'modal__overlay'
        };
        this.modal = null;

        if (hasClass(document.getElementsByTagName('body')[0], this.selectors.body)) {
            this.open();
        }
    }

    _createClass(Modal, [{
        key: 'open',
        value: function open() {
            var _this = this;

            document.addEventListener('click', function (e) {
                e.preventDefault();

                if (hasClass(e.target, _this.selectors.open)) {
                    _this.modal = document.querySelector('[data-modal=\'' + e.target.id + '\']');

                    addClass(_this.modal, 'active');

                    _this.close();
                }
            });
        }
    }, {
        key: 'close',
        value: function close() {
            var _this2 = this;

            document.addEventListener('click', function (e) {
                e.preventDefault();

                if (hasClass(e.target, _this2.selectors.close) || hasClass(e.target, _this2.selectors.overlay)) {
                    _this2.closeModal();
                }
            });

            document.addEventListener('keyup', function (e) {
                if (e.keyCode == 27) {
                    _this2.closeModal();
                }
            });
        }
    }, {
        key: 'closeModal',
        value: function closeModal() {
            removeClass(this.modal, 'active');
        }
    }]);

    return Modal;
}();
'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Hamburger = function () {
    function Hamburger() {
        _classCallCheck(this, Hamburger);

        this.bodySelector = 'js-hamburger';

        this.hamburger = null;
        this.list = null;
        this.open = false;

        if (hasClass(document.getElementsByTagName('body')[0], this.bodySelector)) {
            this.hamburger = document.getElementsByClassName('hamburger')[0];
            this.list = document.getElementsByClassName('hamburger__list')[0];

            this.handleToggle();
        }
    }

    _createClass(Hamburger, [{
        key: 'handleToggle',
        value: function handleToggle() {
            var _this = this;

            this.hamburger.addEventListener('click', function (e) {
                e.preventDefault();

                _this.toggle();
            });

            document.addEventListener('keyup', function (e) {
                if (e.keyCode == 27 && _this.open) {
                    _this.toggle();
                }
            });
        }
    }, {
        key: 'toggle',
        value: function toggle() {
            toggleClass(this.list, 'active');
            toggleClass(this.hamburger, 'active');

            this.open = !this.open;
        }
    }]);

    return Hamburger;
}();
'use strict';

new Tabs({
    el: '.tabs',
    navLinks: '.tabs__link',
    contentContainer: '.tabs__content'
    //hash: true
});

new Hamburger();

new Modal();

new Slider('.slider');